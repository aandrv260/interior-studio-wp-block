{"version":3,"file":"portfolio-row-img-text.js","mappings":"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","sources":["webpack://interior-studio-block-theme/external window [\"wp\",\"blockEditor\"]","webpack://interior-studio-block-theme/external window [\"wp\",\"blocks\"]","webpack://interior-studio-block-theme/external window [\"wp\",\"components\"]","webpack://interior-studio-block-theme/external window [\"wp\",\"element\"]","webpack://interior-studio-block-theme/webpack/bootstrap","webpack://interior-studio-block-theme/webpack/runtime/compat get default export","webpack://interior-studio-block-theme/webpack/runtime/define property getters","webpack://interior-studio-block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://interior-studio-block-theme/webpack/runtime/make namespace object","webpack://interior-studio-block-theme/./blocks/portfolio-row-img-text.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\r\n  InnerBlocks,\r\n  InspectorControls,\r\n  MediaUpload,\r\n  MediaUploadCheck,\r\n} from '@wordpress/block-editor';\r\n\r\nimport { Button, PanelBody, PanelRow, SelectControl, Placeholder } from '@wordpress/components';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\n\r\nregisterBlockType('custom-blocks/portfolio-row-img-text', {\r\n  title: 'Portfolio row - 1 img Col and 1 Text Col',\r\n\r\n  attributes: {\r\n    border: { type: 'string', default: 'none' },\r\n    imgSide: { type: 'string', default: 'left' },\r\n    numberOfImgs: { type: 'string', default: '1' },\r\n    imagesDirection: { type: 'string', default: 'row' },\r\n    img1: { type: 'object', default: { id: null, url: '' } },\r\n    img2: { type: 'object', default: { id: null, url: '' } },\r\n    img3: { type: 'object', default: { id: null, url: '' } },\r\n  },\r\n\r\n  edit: EditComponent,\r\n  save: SaveComponent,\r\n});\r\n\r\nfunction EditComponent(props) {\r\n  const {\r\n    setAttributes,\r\n    attributes: { border, imgSide, numberOfImgs, img1, img2, img3, imagesDirection },\r\n  } = props;\r\n\r\n  const arrayFromNumOfImages = () => {\r\n    const arr = [];\r\n    let i = 0;\r\n\r\n    while (i < Number(numberOfImgs)) {\r\n      i++;\r\n      arr.push(i);\r\n    }\r\n\r\n    return arr;\r\n  };\r\n\r\n  const imagesNumArr = arrayFromNumOfImages();\r\n\r\n  const ImagesControls = () => {\r\n    const render = ({ open }) => {\r\n      return (\r\n        <Button variant=\"primary\" onClick={open}>\r\n          Choose Image\r\n        </Button>\r\n      );\r\n    };\r\n\r\n    const UploadImage = ({ number }) => {\r\n      const permitedNumbers = [1, 2, 3];\r\n      if (!permitedNumbers.includes(number)) return;\r\n\r\n      const onFileSelect = imgInfo => {\r\n        const { id } = imgInfo;\r\n        const url = imgInfo.sizes.large.url;\r\n\r\n        // Update block attribute\r\n        number === 1 && setAttributes({ img1: { id, url } });\r\n        number === 2 && setAttributes({ img2: { id, url } });\r\n        number === 3 && setAttributes({ img3: { id, url } });\r\n      };\r\n\r\n      const getImgValueAndIdFromNumber = () => {\r\n        if (number === 1) return { id: img1.id, url: img1.url };\r\n        if (number === 2) return { id: img2.id, url: img2.url };\r\n        if (number === 3) return { id: img3.id, url: img3.url };\r\n      };\r\n\r\n      return (\r\n        <PanelRow>\r\n          <label>{`Image ${number}`}</label>\r\n          <MediaUploadCheck>\r\n            <MediaUpload\r\n              onSelect={onFileSelect}\r\n              value={getImgValueAndIdFromNumber().id}\r\n              render={render}\r\n            />\r\n          </MediaUploadCheck>\r\n        </PanelRow>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {imagesNumArr.length >= 1 && <UploadImage number={1} />}\r\n        {imagesNumArr.length >= 2 && <UploadImage number={2} />}\r\n        {imagesNumArr.length === 3 && <UploadImage number={3} />}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const InspectorControlsOptions = () => {\r\n    const selectHandler = newValue => {\r\n      switch (newValue) {\r\n        case '1':\r\n          setAttributes({ img2: { id: null, url: '' }, img3: { id: null, url: '' } });\r\n        case '2':\r\n          setAttributes({ img3: { id: null, url: '' } });\r\n\r\n        default:\r\n          '';\r\n      }\r\n\r\n      setAttributes({ numberOfImgs: newValue });\r\n    };\r\n\r\n    const ImagesGroupOptions = () => {\r\n      return (\r\n        <>\r\n          <PanelRow>\r\n            <SelectControl\r\n              label=\"Number of images\"\r\n              value={numberOfImgs}\r\n              options={[\r\n                { value: '1', label: '1' },\r\n                { value: '2', label: '2' },\r\n                { value: '3', label: '3' },\r\n              ]}\r\n              onChange={selectHandler}\r\n            />\r\n          </PanelRow>\r\n\r\n          <PanelRow>\r\n            <SelectControl\r\n              label=\"Direction of images\"\r\n              help=\"This applies if if images are more than 1\"\r\n              value={imagesDirection}\r\n              options={[\r\n                { value: 'row', label: 'Row' },\r\n                { value: 'column', label: 'Column' },\r\n              ]}\r\n              onChange={newDir => setAttributes({ imagesDirection: newDir })}\r\n            />\r\n          </PanelRow>\r\n        </>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <InspectorControls>\r\n        <PanelBody title=\"Row options\" initialOpen>\r\n          <ImagesGroupOptions />\r\n          <ImagesControls />\r\n        </PanelBody>\r\n      </InspectorControls>\r\n    );\r\n  };\r\n\r\n  const ImagesSelected = () => {\r\n    return (\r\n      <>\r\n        {img1.id && (\r\n          <img className=\"portfolio-project__img\" src={img1.url} alt=\"Снимка на схема 1\" />\r\n        )}\r\n\r\n        {img2.id && (\r\n          <img className=\"portfolio-project__img\" src={img2.url} alt=\"Снимка на схема 1\" />\r\n        )}\r\n\r\n        {img3.id && (\r\n          <img className=\"portfolio-project__img\" src={img3.url} alt=\"Снимка на схема 1\" />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <InspectorControlsOptions />\r\n      <div className=\"portfolio-project grid grid--2-cols\">\r\n        <div className=\"portfolio-project__img-box\">\r\n          <div\r\n            className={`portfolio-project__img-group img-${numberOfImgs} img-${imagesDirection}`}\r\n          >\r\n            {/* <img\r\n              className=\"portfolio-project__img\"\r\n              src=\"images/portfolios-project-page/microhome/scheme-1.png\"\r\n              alt=\"Снимка на схема 1\"\r\n            />\r\n\r\n            <img\r\n              className=\"portfolio-project__img\"\r\n              src=\"images/portfolios-project-page/microhome/scheme-1.png\"\r\n              alt=\"Снимка на схема 1\"\r\n            /> */}\r\n            <ImagesSelected />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"portfolio-project__text-box\">\r\n          <InnerBlocks allowedBlocks={['core/heading', 'core/paragraph']} />\r\n          {/* <h3 className=\"portfolio-project__heading\">Microhome</h3>\r\n          <p className=\"portfolio-project__desc\">\r\n            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eos vero ipsum iusto. Qui\r\n            officia ab commodi minima optio animi reprehenderit voluptate molestias eaque. Sit\r\n            voluptatum eaque odit? Iste, quod illum voluptates facilis alias ab culpa deserunt sint,\r\n            veniam non nam atque quidem? Voluptatum dolore architecto tenetur at commodi ratione\r\n            fuga ipsa adipisci, quidem ea aperiam eum. Doloribus, ad. Aliquam sequi autem, iure\r\n            quidem delectus quibusdam accusantium tenetur veritatis. Consequatur ex reiciendis\r\n            ratione dignissimos aliquam magnam numquam veniam omnis debitis reprehenderit odit\r\n            adipisci rerum delectus maxime iure natus id aliquid, laudantium perspiciatis est fugit\r\n            quisquam eius quia? In neque nihil vitae.\r\n          </p> */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction SaveComponent() {\r\n  return <InnerBlocks.Content />;\r\n}\r\n"],"names":["InnerBlocks","InspectorControls","MediaUpload","MediaUploadCheck","Button","PanelBody","PanelRow","SelectControl","Placeholder","registerBlockType","title","attributes","border","type","default","imgSide","numberOfImgs","imagesDirection","img1","id","url","img2","img3","edit","EditComponent","save","SaveComponent","props","setAttributes","arrayFromNumOfImages","arr","i","Number","push","imagesNumArr","ImagesControls","render","open","UploadImage","number","permitedNumbers","includes","onFileSelect","imgInfo","sizes","large","getImgValueAndIdFromNumber","length","InspectorControlsOptions","selectHandler","newValue","ImagesGroupOptions","value","label","newDir","ImagesSelected"],"sourceRoot":""}